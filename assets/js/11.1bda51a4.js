(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{169:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"web"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web","aria-hidden":"true"}},[t._v("#")]),t._v(" WEB")]),t._v(" "),s("h2",{attrs:{id:"同源策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#同源策略","aria-hidden":"true"}},[t._v("#")]),t._v(" 同源策略")]),t._v(" "),s("p",[s("strong",[t._v("定义：三个相同：")])]),t._v(" "),s("ol",[s("li",[t._v("协议相同")]),t._v(" "),s("li",[t._v("域名相同")]),t._v(" "),s("li",[t._v("端口相同")])]),t._v(" "),s("p",[t._v("例子：http://www.example.com/dir/page.html\n这个网址，协议是http://，域名是www.example.com，端口是80（默认端口可以省略）。它的同源情况如下：\nhttp://www.example.com/dir2/other.html：同源\nhttp://example.com/dir/other.html：不同源（域名不同）\nhttp://v2.www.example.com/dir/other.html：不同源（域名不同）\nhttp://www.example.com:81/dir/other.html：不同源（端口不同）\n"),s("strong",[t._v("非同源，共有三种行为受到限制：")])]),t._v(" "),s("ol",[s("li",[t._v("Cookie、LoCALStorage和indexDB无法读取。")]),t._v(" "),s("li",[t._v("DOM无法获取")]),t._v(" "),s("li",[t._v("Ajax请求不能发送。")])]),t._v(" "),s("h2",{attrs:{id:"跨域方法以及怎么样实现的与原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨域方法以及怎么样实现的与原理","aria-hidden":"true"}},[t._v("#")]),t._v(" 跨域方法以及怎么样实现的与原理")]),t._v(" "),s("h3",{attrs:{id:"跨域方法："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨域方法：","aria-hidden":"true"}},[t._v("#")]),t._v(" 跨域方法：")]),t._v(" "),s("ul",[s("li",[t._v("JSONP")]),t._v(" "),s("li",[t._v("WebSocket")]),t._v(" "),s("li",[t._v("CORS")])]),t._v(" "),s("h5",{attrs:{id:"jsonp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jsonp","aria-hidden":"true"}},[t._v("#")]),t._v(" jsonp")]),t._v(" "),s("p",[t._v("JSONP是服务器与客户端跨源通信的常用方法。最大特点就是简单适用，老式浏览器全部支持，服务器改造非常小。\n它的基本思想是，网页通过添加一个<script>元素，向服务器请求JSON数据，这种做法不受同源政策限制；服务器收到请求后，将数据放在一个指定名字的回调函数里传回来。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("//首先，网页动态插入<script>元素，由它向跨源网址发出请求。")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("addScriptTag")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" script "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createElement")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'script'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    script"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("Attribute")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"type"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token string"}},[t._v('"text/javascript"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    script"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("src"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nwindow"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onload"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token function"}},[t._v("funciton")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{attrs:{class:"token function"}},[t._v("addScriptTag")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'http://example.com/ip?callback=foo'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("foo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Your public IP address is: '")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ip"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("//上面代码通过动态添加<script>元素，向服务器example.com发出请求。")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("//注意，该请求的查询字符串有一个callback参数，用来指定回调函数的名字，")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("//这对于JSONP是必需的。")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("//服务器收到这个请求以后，会将数据放在回调函数的参数位置返回。")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("foo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token string"}},[t._v('"ip"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"8.8.8.8"')]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h5",{attrs:{id:"websoket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websoket","aria-hidden":"true"}},[t._v("#")]),t._v(" WebSoket")]),t._v(" "),s("p",[t._v("WebSocket是一种通信协议，使用ws://（非加密）和wss://（加密）作为协议前缀。该协议不实行同源政策，只要服务器支持，就可以通过它进行跨源通信。")]),t._v(" "),s("h5",{attrs:{id:"跨域资源共享-cors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨域资源共享-cors","aria-hidden":"true"}},[t._v("#")]),t._v(" 跨域资源共享 CORS")]),t._v(" "),s("p",[t._v("它允许浏览器向跨源服务器，发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Access-Control-Allow-Origin该字段是必须的。")]),t._v(" "),s("p",[t._v("它的值要么是请求时Origin字段的值，要么是一个*，表示接受任意域名的请求。")])]),t._v(" "),s("li",[s("p",[t._v("Access-Control-Allow-Credentials")]),t._v(" "),s("p",[t._v("该字段可选。它的值是一个布尔值，表示是否允许发送Cookie。默认情况下，Cookie不包括在CORS请求之中。设为true，即表示服务器明确许可，Cookie可以包含在请求中，一起发给服务器。这个值也只能设为true，如果服务器不要浏览器发送Cookie，删除该字段即可。var xhr = new XMLHttpRequest();xhr.withCredentials = true")])]),t._v(" "),s("li",[s("p",[t._v("Access-Control-Expose-Headers")]),t._v(" "),s("p",[t._v("该字段可选。CORS请求时，XMLHttpRequest对象的getResponseHeader()方法只能拿到6个基本字段：Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma。如果想拿到其他字段，就必须在Access-Control-Expose-Headers里面指定。上面的例子指定，getResponseHeader('FooBar')可以返回FooBar字段的值。")]),t._v(" "),s("p",[t._v("需要注意的是，如果要发送Cookie，Access-Control-Allow-Origin就不能设为星号，必须指定明确的、与请求网页一致的域名。同时，Cookie依然遵循同源政策，只有用服务器域名设置的Cookie才会上传，其他域名的Cookie并不会上传，且（跨源）原网页代码中的document.cookie也无法读")]),t._v(" "),s("p",[s("strong",[t._v("JSONP只支持GET请求，CORS支持所有类型的HTTP请求。JSONP的优势在于支持老式浏览器，以及可以向不支持CORS的网站请求数据。")])])])]),t._v(" "),s("h2",{attrs:{id:"为什么浏览器会产生同源策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么浏览器会产生同源策略","aria-hidden":"true"}},[t._v("#")]),t._v(" 为什么浏览器会产生同源策略")]),t._v(" "),s("p",[t._v("设置同源限制主要是为了安全，如果没有同源限制存在浏览器中的cookie等其他数据可以任意读取，不同域下DOM任意操作，ajax任意请求的话如果浏览了恶意网站那么就会泄漏这些隐私数据")]),t._v(" "),s("h2",{attrs:{id:"从输入url到看到页面发生的全过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从输入url到看到页面发生的全过程","aria-hidden":"true"}},[t._v("#")]),t._v(" 从输入URL到看到页面发生的全过程")]),t._v(" "),s("ol",[s("li",[t._v("首先浏览器主进程接管，开了一个下载线程。")]),t._v(" "),s("li",[t._v("然后进行HTTP请求（DNS查询、IP寻址等等），中间会有三次捂手，等待响应，开始下载响应 报文。")]),t._v(" "),s("li",[t._v("将下载完的内容转交给Renderer进程管理。")]),t._v(" "),s("li",[t._v("Renderer进程开始解析css rule tree和dom tree，这两个过程是并行的，所以一5般我会把link标签放在页面顶部。")]),t._v(" "),s("li",[t._v("解析绘制过程中，当浏览器遇到link标签或者script、img等标签，浏览器会去下载6这些内容，   遇到时候缓存的使用缓存，不适用缓存的重新下载资源。")]),t._v(" "),s("li",[t._v("css rule tree和dom tree生成完了之后，开始合成render tree，这个时候浏览器会进行layout，开始计算每一个节点的位置，然后进行绘制。")]),t._v(" "),s("li",[t._v("绘制结束后，关闭TCP连接，过程有四次挥手。")])]),t._v(" "),s("h2",{attrs:{id:"http状态码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http状态码","aria-hidden":"true"}},[t._v("#")]),t._v(" http状态码")]),t._v(" "),s("ul",[s("li",[t._v("定义：HTTP状态码（HTTP Status Code）是用以表示网页服务器HTTP响应状态的3位数字代码。")]),t._v(" "),s("li",[t._v("常用状态码\n"),s("ol",[s("li",[t._v("200——表明该请求被成功地完成，所请求的资源发送回客户端")]),t._v(" "),s("li",[t._v("304——自从上次请求后，请求的网页未修改过，请客户端使用本地缓存")]),t._v(" "),s("li",[t._v("400——客户端请求有错（譬如可以是安全模块拦截）")]),t._v(" "),s("li",[t._v("401——请求未经授权")]),t._v(" "),s("li",[t._v("403——禁止访问（譬如可以是未登录时禁止）")]),t._v(" "),s("li",[t._v("404——资源未找到")]),t._v(" "),s("li",[t._v("500——服务器内部错误")]),t._v(" "),s("li",[t._v("503——服务不可用")])])]),t._v(" "),s("li",[t._v("状态码前序意义\n"),s("ol",[s("li",[t._v("1：消息，代表请求已被接受，需要继续处理。")]),t._v(" "),s("li",[t._v("2：成功 代表请求已成功被服务器接收、理解、并接受")]),t._v(" "),s("li",[t._v("3：重定向代表需要客户端采取进一步的操作才能完成请求。通常，这些状态码用来重定向，后续的请求地址（重定向目标）在本次响应的 Location 域中指明。")]),t._v(" "),s("li",[t._v("4：请求错误代表了客户端看起来可能发生了错误，妨碍了服务器的处理")]),t._v(" "),s("li",[t._v("5,6：服务器错误")])])])]),t._v(" "),s("h2",{attrs:{id:"请求头属性request-headers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求头属性request-headers","aria-hidden":"true"}},[t._v("#")]),t._v(" 请求头属性Request Headers")]),t._v(" "),s("p",[t._v("① Accept:"),s("code",[t._v("text/html,application/xhtml+xml, application/xml;q=0.9,image/webp,")]),s("em",[t._v("/")]),s("code",[t._v(";q=0.8")])]),t._v(" "),s("p",[t._v("斜杠前面的是 type（类型），斜杠后面的是 subtype（子类型）。type 指定包含的时何种数据，subtype 标识数据的特定类型，即大类中的小类。例如，image/jpeg,类型是image，子类型是jpeg。")]),t._v(" "),s("p",[t._v("已经定义了8个顶级类型：")]),t._v(" "),s("p",[t._v("text/*：用于标准化地表示的文本信息，文本消息可以是多种字符集和或者多种格式的；")]),t._v(" "),s("p",[t._v("image/*：表示图片；")]),t._v(" "),s("p",[t._v("model/*：表示3D模型，如VRML文件；")]),t._v(" "),s("p",[t._v("audio/*：表示声音；")]),t._v(" "),s("p",[t._v("video/*：表示视频，可能包括声音；")]),t._v(" "),s("p",[t._v("message/*：表示协议特定的信封，如email消息和HTTP响应；")]),t._v(" "),s("p",[t._v("application/*：用于传输应用程序数据或者二进制数据；")]),t._v(" "),s("p",[t._v("multipart/*：表示多个文档和资源的容器；")]),t._v(" "),s("p",[t._v("② Accept-Encoding:gzip, deflate, sdch, br")]),t._v(" "),s("ul",[s("li",[t._v("指定浏览器可以支持的web服务器返回内容压缩编码类型。")]),t._v(" "),s("li",[t._v("Accept-Encoding表示浏览器有能力解码的编码类型。")])]),t._v(" "),s("p",[t._v("③ Accept-Language:zh-CN,zh;q=0.8")]),t._v(" "),s("ul",[s("li",[t._v("浏览器支持的语言分别是中文和简体中文，优先支持简体中文。")])]),t._v(" "),s("p",[t._v("④ Cache-Control:max-age=0")]),t._v(" "),s("ul",[s("li",[t._v("指定请求和响应遵循的缓存机制")]),t._v(" "),s("li",[t._v("max-age>0 ：直接从流览器缓存中提取")]),t._v(" "),s("li",[t._v("max-age<=0 ：向server 发送http 请求确认")])]),t._v(" "),s("p",[t._v("⑤ Connection:keep-alive")]),t._v(" "),s("ul",[s("li",[t._v("表示是否需要持久连接。（HTTP 1.1默认进行持久连接）")])]),t._v(" "),s("p",[t._v("⑥ Cookie:JSESSIONID=37FDBFB5E02C9DF3F94BDCE1F75D5291")]),t._v(" "),s("ul",[s("li",[t._v("HTTP请求发送时，会把保存在该请求域名下的所有cookie值一起发送给web服务器。")])]),t._v(" "),s("p",[t._v("⑦ Host:localhost:8080")]),t._v(" "),s("ul",[s("li",[t._v("指定请求的服务器的域名和端口号")])]),t._v(" "),s("p",[t._v("⑧ Upgrade-Insecure-Requests:1")]),t._v(" "),s("ul",[s("li",[t._v("向服务器指定某种传输协议以便服务器进行转换（如果支持）")])]),t._v(" "),s("p",[t._v("⑨ User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64)  AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.75 Safari/537.36")]),t._v(" "),s("p",[t._v("User-Agent（用户代理），简称 UA，它是一个特殊字符串头，使得服务器能够识别客户端使用的操作系统及版本、CPU 类型、浏览器及版本、浏览器渲染引擎、浏览器语言、浏览器插件等。")]),t._v(" "),s("p",[t._v("⑩ Authorization")]),t._v(" "),s("p",[t._v("Authorization的作用是当客户端访问受口令保护时，服务器端会发送401状态码和WWW-Authenticate响应头，要求客户机使用Authorization来应答。")]),t._v(" "),s("p",[t._v("还有很多")]),t._v(" "),s("h2",{attrs:{id:"congtentype为application-json和application-x-www-form-urlencoded的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#congtentype为application-json和application-x-www-form-urlencoded的区别","aria-hidden":"true"}},[t._v("#")]),t._v(" congtenType为application/json和application/x-www-form-urlencoded的区别")]),t._v(" "),s("p",[t._v("都是表单数据发送时的编码类型")]),t._v(" "),s("p",[t._v("application/json内容传输类型是json格式的字符串")]),t._v(" "),s("p",[t._v("application/x-www-form-urlencoded:浏览器用x-www-form-urlencoded的编码方式把form数据转换成一个字串（name1=value1&name2=value2…），然后把这个字串append到url后面，用?分割，加载这个新的url。 当action为post时候，浏览器把form数据封装到http body中，然后发送到server。")]),t._v(" "),s("p",[t._v("使用json格式，php头部需要加上如下代码，否则会报错")]),t._v(" "),s("div",{staticClass:"language-http extra-class"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("header('Access-Control-Allow-Headers:x-requested-with,content-type');\n")])])])])}],!1,null,null,null);e.options.__file="WEB.md";a.default=e.exports}}]);